import{a as pt}from"/build/_shared/chunk-XPV7H5DZ.js";import{d as vt,j as ve}from"/build/_shared/chunk-ZWSXUEUM.js";import{d as he,f as Pe,g as ht}from"/build/_shared/chunk-C46C5URB.js";var A=he(Pe(),1),Ae=e=>e.type==="checkbox",fe=e=>e instanceof Date,U=e=>e==null,xt=e=>typeof e=="object",I=e=>!U(e)&&!Array.isArray(e)&&xt(e)&&!fe(e),Et=e=>I(e)&&e.target?Ae(e.target)?e.target.checked:e.target.value:e,sr=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Dt=(e,s)=>e.has(sr(s)),ir=e=>{let s=e.constructor&&e.constructor.prototype;return I(s)&&s.hasOwnProperty("isPrototypeOf")},Ye=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function k(e){let s,t=Array.isArray(e);if(e instanceof Date)s=new Date(e);else if(e instanceof Set)s=new Set(e);else if(!(Ye&&(e instanceof Blob||e instanceof FileList))&&(t||I(e)))if(s=t?[]:{},!t&&!ir(e))s=e;else for(let r in e)e.hasOwnProperty(r)&&(s[r]=k(e[r]));else return e;return s}var ye=e=>Array.isArray(e)?e.filter(Boolean):[],R=e=>e===void 0,f=(e,s,t)=>{if(!s||!I(e))return t;let r=ye(s.split(/[,[\].]+?/)).reduce((a,n)=>U(a)?a:a[n],e);return R(r)||r===e?R(e[s])?t:e[s]:r},Q=e=>typeof e=="boolean",Ve={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},G={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},re={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},wt=A.default.createContext(null),me=()=>A.default.useContext(wt),Rt=e=>{let{children:s,...t}=e;return A.default.createElement(wt.Provider,{value:t},s)},Ct=(e,s,t,r=!0)=>{let a={defaultValues:s._defaultValues};for(let n in e)Object.defineProperty(a,n,{get:()=>{let l=n;return s._proxyFormState[l]!==G.all&&(s._proxyFormState[l]=!r||G.all),t&&(t[l]=!0),e[l]}});return a},H=e=>I(e)&&!Object.keys(e).length,Ot=(e,s,t,r)=>{t(e);let{name:a,...n}=e;return H(n)||Object.keys(n).length>=Object.keys(s).length||Object.keys(n).find(l=>s[l]===(!r||G.all))},W=e=>Array.isArray(e)?e:[e],kt=(e,s,t)=>!e||!s||e===s||W(e).some(r=>r&&(t?r===s:r.startsWith(s)||s.startsWith(r)));function De(e){let s=A.default.useRef(e);s.current=e,A.default.useEffect(()=>{let t=!e.disabled&&s.current.subject&&s.current.subject.subscribe({next:s.current.next});return()=>{t&&t.unsubscribe()}},[e.disabled])}function ar(e){let s=me(),{control:t=s.control,disabled:r,name:a,exact:n}=e||{},[l,h]=A.default.useState(t._formState),y=A.default.useRef(!0),x=A.default.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),E=A.default.useRef(a);return E.current=a,De({disabled:r,next:b=>y.current&&kt(E.current,b.name,n)&&Ot(b,x.current,t._updateFormState)&&h({...t._formState,...b}),subject:t._subjects.state}),A.default.useEffect(()=>(y.current=!0,x.current.isValid&&t._updateValid(!0),()=>{y.current=!1}),[t]),Ct(l,t,x.current,!1)}var ee=e=>typeof e=="string",It=(e,s,t,r,a)=>ee(e)?(r&&s.watch.add(e),f(t,e,a)):Array.isArray(e)?e.map(n=>(r&&s.watch.add(n),f(t,n))):(r&&(s.watchAll=!0),t);function nr(e){let s=me(),{control:t=s.control,name:r,defaultValue:a,disabled:n,exact:l}=e||{},h=A.default.useRef(r);h.current=r,De({disabled:n,subject:t._subjects.values,next:E=>{kt(h.current,E.name,l)&&x(k(It(h.current,t._names,E.values||t._formValues,!1,a)))}});let[y,x]=A.default.useState(t._getWatch(r,a));return A.default.useEffect(()=>t._removeUnmounted()),y}var Ze=e=>/^\w*$/.test(e),Mt=e=>ye(e.replace(/["|']|\]/g,"").split(/\.|\[/)),T=(e,s,t)=>{let r=-1,a=Ze(s)?[s]:Mt(s),n=a.length,l=n-1;for(;++r<n;){let h=a[r],y=t;if(r!==l){let x=e[h];y=I(x)||Array.isArray(x)?x:isNaN(+a[r+1])?{}:[]}e[h]=y,e=e[h]}return e};function or(e){let s=me(),{name:t,disabled:r,control:a=s.control,shouldUnregister:n}=e,l=Dt(a._names.array,t),h=nr({control:a,name:t,defaultValue:f(a._formValues,t,f(a._defaultValues,t,e.defaultValue)),exact:!0}),y=ar({control:a,name:t}),x=A.default.useRef(a.register(t,{...e.rules,value:h,...Q(e.disabled)?{disabled:e.disabled}:{}}));return A.default.useEffect(()=>{let E=a._options.shouldUnregister||n,b=(g,$)=>{let L=f(a._fields,g);L&&(L._f.mount=$)};if(b(t,!0),E){let g=k(f(a._options.defaultValues,t));T(a._defaultValues,t,g),R(f(a._formValues,t))&&T(a._formValues,t,g)}return()=>{(l?E&&!a._state.action:E)?a.unregister(t):b(t,!1)}},[t,a,l,n]),A.default.useEffect(()=>{f(a._fields,t)&&a._updateDisabledField({disabled:r,fields:a._fields,name:t,value:f(a._fields,t)._f.value})},[r,t,a]),{field:{name:t,value:h,...Q(r)||y.disabled?{disabled:y.disabled||r}:{},onChange:A.default.useCallback(E=>x.current.onChange({target:{value:Et(E),name:t},type:Ve.CHANGE}),[t]),onBlur:A.default.useCallback(()=>x.current.onBlur({target:{value:f(a._formValues,t),name:t},type:Ve.BLUR}),[t,a]),ref:E=>{let b=f(a._fields,t);b&&E&&(b._f.ref={focus:()=>E.focus(),select:()=>E.select(),setCustomValidity:g=>E.setCustomValidity(g),reportValidity:()=>E.reportValidity()})}},formState:y,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!f(y.errors,t)},isDirty:{enumerable:!0,get:()=>!!f(y.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!f(y.touchedFields,t)},error:{enumerable:!0,get:()=>f(y.errors,t)}})}}var Pt=e=>e.render(or(e));var et=(e,s,t,r,a)=>s?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[r]:a||!0}}:{},ie=()=>{let e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,s=>{let t=(Math.random()*16+e)%16|0;return(s=="x"?t:t&3|8).toString(16)})},Le=(e,s,t={})=>t.shouldFocus||R(t.shouldFocus)?t.focusName||`${e}.${R(t.focusIndex)?s:t.focusIndex}.`:"",Qe=e=>({isOnSubmit:!e||e===G.onSubmit,isOnBlur:e===G.onBlur,isOnChange:e===G.onChange,isOnAll:e===G.all,isOnTouch:e===G.onTouched}),ze=(e,s,t)=>!t&&(s.watchAll||s.watch.has(e)||[...s.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length)))),de=(e,s,t,r)=>{for(let a of t||Object.keys(e)){let n=f(e,a);if(n){let{_f:l,...h}=n;if(l){if(l.refs&&l.refs[0]&&s(l.refs[0],a)&&!r)break;if(l.ref&&s(l.ref,l.name)&&!r)break;de(h,s)}else I(h)&&de(h,s)}}},Lt=(e,s,t)=>{let r=ye(f(e,t));return T(r,"root",s[t]),T(e,t,r),e},tt=e=>e.type==="file",ae=e=>typeof e=="function",Se=e=>{if(!Ye)return!1;let s=e?e.ownerDocument:0;return e instanceof(s&&s.defaultView?s.defaultView.HTMLElement:HTMLElement)},be=e=>ee(e),rt=e=>e.type==="radio",Te=e=>e instanceof RegExp,At={value:!1,isValid:!1},Ft={value:!0,isValid:!0},Nt=e=>{if(Array.isArray(e)){if(e.length>1){let s=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:s,isValid:!!s.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!R(e[0].attributes.value)?R(e[0].value)||e[0].value===""?Ft:{value:e[0].value,isValid:!0}:Ft:At}return At},bt={isValid:!1,value:null},Ut=e=>Array.isArray(e)?e.reduce((s,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:s,bt):bt;function Vt(e,s,t="validate"){if(be(e)||Array.isArray(e)&&e.every(be)||Q(e)&&!e)return{type:t,message:be(e)?e:"",ref:s}}var ce=e=>I(e)&&!Te(e)?e:{value:e,message:""},Xe=async(e,s,t,r,a)=>{let{ref:n,refs:l,required:h,maxLength:y,minLength:x,min:E,max:b,pattern:g,validate:$,name:L,valueAsNumber:ue,mount:_e,disabled:z}=e._f,V=f(s,L);if(!_e||z)return{};let J=l?l[0]:n,K=D=>{r&&J.reportValidity&&(J.setCustomValidity(Q(D)?"":D||""),J.reportValidity())},_={},v=rt(n),F=Ae(n),O=v||F,N=(ue||tt(n))&&R(n.value)&&R(V)||Se(n)&&n.value===""||V===""||Array.isArray(V)&&!V.length,X=et.bind(null,L,t,_),te=(D,S,C,B=re.maxLength,q=re.minLength)=>{let Y=D?S:C;_[L]={type:D?B:q,message:Y,ref:n,...X(D?B:q,Y)}};if(a?!Array.isArray(V)||!V.length:h&&(!O&&(N||U(V))||Q(V)&&!V||F&&!Nt(l).isValid||v&&!Ut(l).isValid)){let{value:D,message:S}=be(h)?{value:!!h,message:h}:ce(h);if(D&&(_[L]={type:re.required,message:S,ref:J,...X(re.required,S)},!t))return K(S),_}if(!N&&(!U(E)||!U(b))){let D,S,C=ce(b),B=ce(E);if(!U(V)&&!isNaN(V)){let q=n.valueAsNumber||V&&+V;U(C.value)||(D=q>C.value),U(B.value)||(S=q<B.value)}else{let q=n.valueAsDate||new Date(V),Y=Fe=>new Date(new Date().toDateString()+" "+Fe),ne=n.type=="time",ge=n.type=="week";ee(C.value)&&V&&(D=ne?Y(V)>Y(C.value):ge?V>C.value:q>new Date(C.value)),ee(B.value)&&V&&(S=ne?Y(V)<Y(B.value):ge?V<B.value:q<new Date(B.value))}if((D||S)&&(te(!!D,C.message,B.message,re.max,re.min),!t))return K(_[L].message),_}if((y||x)&&!N&&(ee(V)||a&&Array.isArray(V))){let D=ce(y),S=ce(x),C=!U(D.value)&&V.length>+D.value,B=!U(S.value)&&V.length<+S.value;if((C||B)&&(te(C,D.message,S.message),!t))return K(_[L].message),_}if(g&&!N&&ee(V)){let{value:D,message:S}=ce(g);if(Te(D)&&!V.match(D)&&(_[L]={type:re.pattern,message:S,ref:n,...X(re.pattern,S)},!t))return K(S),_}if($){if(ae($)){let D=await $(V,s),S=Vt(D,J);if(S&&(_[L]={...S,...X(re.validate,S.message)},!t))return K(S.message),_}else if(I($)){let D={};for(let S in $){if(!H(D)&&!t)break;let C=Vt(await $[S](V,s),J,S);C&&(D={...C,...X(S,C.message)},K(C.message),t&&(_[L]=D))}if(!H(D)&&(_[L]={ref:J,...D},!t))return _}}return K(!0),_},Ne=(e,s)=>[...e,...W(s)],Ue=e=>Array.isArray(e)?e.map(()=>{}):void 0;function Be(e,s,t){return[...e.slice(0,s),...W(t),...e.slice(s)]}var je=(e,s,t)=>Array.isArray(e)?(R(e[t])&&(e[t]=void 0),e.splice(t,0,e.splice(s,1)[0]),e):[],He=(e,s)=>[...W(s),...W(e)];function ur(e,s){let t=0,r=[...e];for(let a of s)r.splice(a-t,1),t++;return ye(r).length?r:[]}var We=(e,s)=>R(s)?[]:ur(e,W(s).sort((t,r)=>t-r)),$e=(e,s,t)=>{[e[s],e[t]]=[e[t],e[s]]};function lr(e,s){let t=s.slice(0,-1).length,r=0;for(;r<t;)e=R(e)?r++:e[s[r++]];return e}function cr(e){for(let s in e)if(e.hasOwnProperty(s)&&!R(e[s]))return!1;return!0}function P(e,s){let t=Array.isArray(s)?s:Ze(s)?[s]:Mt(s),r=t.length===1?e:lr(e,t),a=t.length-1,n=t[a];return r&&delete r[n],a!==0&&(I(r)&&H(r)||Array.isArray(r)&&cr(r))&&P(e,t.slice(0,-1)),e}var St=(e,s,t)=>(e[s]=t,e);function kr(e){let s=me(),{control:t=s.control,name:r,keyName:a="id",shouldUnregister:n}=e,[l,h]=A.default.useState(t._getFieldArray(r)),y=A.default.useRef(t._getFieldArray(r).map(ie)),x=A.default.useRef(l),E=A.default.useRef(r),b=A.default.useRef(!1);E.current=r,x.current=l,t._names.array.add(r),e.rules&&t.register(r,e.rules),De({next:({values:_,name:v})=>{if(v===E.current||!v){let F=f(_,E.current);Array.isArray(F)&&(h(F),y.current=F.map(ie))}},subject:t._subjects.array});let g=A.default.useCallback(_=>{b.current=!0,t._updateFieldArray(r,_)},[t,r]),$=(_,v)=>{let F=W(k(_)),O=Ne(t._getFieldArray(r),F);t._names.focus=Le(r,O.length-1,v),y.current=Ne(y.current,F.map(ie)),g(O),h(O),t._updateFieldArray(r,O,Ne,{argA:Ue(_)})},L=(_,v)=>{let F=W(k(_)),O=He(t._getFieldArray(r),F);t._names.focus=Le(r,0,v),y.current=He(y.current,F.map(ie)),g(O),h(O),t._updateFieldArray(r,O,He,{argA:Ue(_)})},ue=_=>{let v=We(t._getFieldArray(r),_);y.current=We(y.current,_),g(v),h(v),t._updateFieldArray(r,v,We,{argA:_})},_e=(_,v,F)=>{let O=W(k(v)),N=Be(t._getFieldArray(r),_,O);t._names.focus=Le(r,_,F),y.current=Be(y.current,_,O.map(ie)),g(N),h(N),t._updateFieldArray(r,N,Be,{argA:_,argB:Ue(v)})},z=(_,v)=>{let F=t._getFieldArray(r);$e(F,_,v),$e(y.current,_,v),g(F),h(F),t._updateFieldArray(r,F,$e,{argA:_,argB:v},!1)},V=(_,v)=>{let F=t._getFieldArray(r);je(F,_,v),je(y.current,_,v),g(F),h(F),t._updateFieldArray(r,F,je,{argA:_,argB:v},!1)},J=(_,v)=>{let F=k(v),O=St(t._getFieldArray(r),_,F);y.current=[...O].map((N,X)=>!N||X===_?ie():y.current[X]),g(O),h([...O]),t._updateFieldArray(r,O,St,{argA:_,argB:F},!0,!1)},K=_=>{let v=W(k(_));y.current=v.map(ie),g([...v]),h([...v]),t._updateFieldArray(r,[...v],F=>F,{},!0,!1)};return A.default.useEffect(()=>{if(t._state.action=!1,ze(r,t._names)&&t._subjects.state.next({...t._formState}),b.current&&(!Qe(t._options.mode).isOnSubmit||t._formState.isSubmitted))if(t._options.resolver)t._executeSchema([r]).then(_=>{let v=f(_.errors,r),F=f(t._formState.errors,r);(F?!v&&F.type||v&&(F.type!==v.type||F.message!==v.message):v&&v.type)&&(v?T(t._formState.errors,r,v):P(t._formState.errors,r),t._subjects.state.next({errors:t._formState.errors}))});else{let _=f(t._fields,r);_&&_._f&&Xe(_,t._formValues,t._options.criteriaMode===G.all,t._options.shouldUseNativeValidation,!0).then(v=>!H(v)&&t._subjects.state.next({errors:Lt(t._formState.errors,v,r)}))}t._subjects.values.next({name:r,values:{...t._formValues}}),t._names.focus&&de(t._fields,(_,v)=>{if(t._names.focus&&v.startsWith(t._names.focus)&&_.focus)return _.focus(),1}),t._names.focus="",t._updateValid(),b.current=!1},[l,r,t]),A.default.useEffect(()=>(!f(t._formValues,r)&&t._updateFieldArray(r),()=>{(t._options.shouldUnregister||n)&&t.unregister(r)}),[r,t,a,n]),{swap:A.default.useCallback(z,[g,r,t]),move:A.default.useCallback(V,[g,r,t]),prepend:A.default.useCallback(L,[g,r,t]),append:A.default.useCallback($,[g,r,t]),remove:A.default.useCallback(ue,[g,r,t]),insert:A.default.useCallback(_e,[g,r,t]),update:A.default.useCallback(J,[g,r,t]),replace:A.default.useCallback(K,[g,r,t]),fields:A.default.useMemo(()=>l.map((_,v)=>({..._,[a]:y.current[v]||ie()})),[l,a])}}var qe=()=>{let e=[];return{get observers(){return e},next:a=>{for(let n of e)n.next&&n.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(n=>n!==a)}}),unsubscribe:()=>{e=[]}}},xe=e=>U(e)||!xt(e);function oe(e,s){if(xe(e)||xe(s))return e===s;if(fe(e)&&fe(s))return e.getTime()===s.getTime();let t=Object.keys(e),r=Object.keys(s);if(t.length!==r.length)return!1;for(let a of t){let n=e[a];if(!r.includes(a))return!1;if(a!=="ref"){let l=s[a];if(fe(n)&&fe(l)||I(n)&&I(l)||Array.isArray(n)&&Array.isArray(l)?!oe(n,l):n!==l)return!1}}return!0}var Bt=e=>e.type==="select-multiple",fr=e=>rt(e)||Ae(e),Ge=e=>Se(e)&&e.isConnected,jt=e=>{for(let s in e)if(ae(e[s]))return!0;return!1};function Ee(e,s={}){let t=Array.isArray(e);if(I(e)||t)for(let r in e)Array.isArray(e[r])||I(e[r])&&!jt(e[r])?(s[r]=Array.isArray(e[r])?[]:{},Ee(e[r],s[r])):U(e[r])||(s[r]=!0);return s}function Ht(e,s,t){let r=Array.isArray(e);if(I(e)||r)for(let a in e)Array.isArray(e[a])||I(e[a])&&!jt(e[a])?R(s)||xe(t[a])?t[a]=Array.isArray(e[a])?Ee(e[a],[]):{...Ee(e[a])}:Ht(e[a],U(s)?{}:s[a],t[a]):t[a]=!oe(e[a],s[a]);return t}var Je=(e,s)=>Ht(e,s,Ee(s)),Wt=(e,{valueAsNumber:s,valueAsDate:t,setValueAs:r})=>R(e)?e:s?e===""?NaN:e&&+e:t&&ee(e)?new Date(e):r?r(e):e;function Ke(e){let s=e.ref;if(!(e.refs?e.refs.every(t=>t.disabled):s.disabled))return tt(s)?s.files:rt(s)?Ut(e.refs).value:Bt(s)?[...s.selectedOptions].map(({value:t})=>t):Ae(s)?Nt(e.refs).value:Wt(R(s.value)?e.ref.value:s.value,e)}var dr=(e,s,t,r)=>{let a={};for(let n of e){let l=f(s,n);l&&T(a,n,l._f)}return{criteriaMode:t,names:[...e],fields:a,shouldUseNativeValidation:r}},pe=e=>R(e)?e:Te(e)?e.source:I(e)?Te(e.value)?e.value.source:e.value:e,yr=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function Tt(e,s,t){let r=f(e,t);if(r||Ze(t))return{error:r,name:t};let a=t.split(".");for(;a.length;){let n=a.join("."),l=f(s,n),h=f(e,n);if(l&&!Array.isArray(l)&&t!==n)return{name:t};if(h&&h.type)return{name:n,error:h};a.pop()}return{name:t}}var mr=(e,s,t,r,a)=>a.isOnAll?!1:!t&&a.isOnTouch?!(s||e):(t?r.isOnBlur:a.isOnBlur)?!e:(t?r.isOnChange:a.isOnChange)?e:!0,_r=(e,s)=>!ye(f(e,s)).length&&P(e,s),gr={mode:G.onSubmit,reValidateMode:G.onChange,shouldFocusError:!0};function hr(e={},s){let t={...gr,...e},r={submitCount:0,isDirty:!1,isLoading:ae(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:t.errors||{},disabled:t.disabled||!1},a={},n=I(t.defaultValues)||I(t.values)?k(t.defaultValues||t.values)||{}:{},l=t.shouldUnregister?{}:k(n),h={action:!1,mount:!1,watch:!1},y={mount:new Set,unMount:new Set,array:new Set,watch:new Set},x,E=0,b={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},g={values:qe(),array:qe(),state:qe()},$=Qe(t.mode),L=Qe(t.reValidateMode),ue=t.criteriaMode===G.all,_e=i=>o=>{clearTimeout(E),E=setTimeout(i,o)},z=async i=>{if(b.isValid||i){let o=t.resolver?H((await N()).errors):await te(a,!0);o!==r.isValid&&g.state.next({isValid:o})}},V=i=>b.isValidating&&g.state.next({isValidating:i}),J=(i,o=[],u,m,d=!0,c=!0)=>{if(m&&u){if(h.action=!0,c&&Array.isArray(f(a,i))){let p=u(f(a,i),m.argA,m.argB);d&&T(a,i,p)}if(c&&Array.isArray(f(r.errors,i))){let p=u(f(r.errors,i),m.argA,m.argB);d&&T(r.errors,i,p),_r(r.errors,i)}if(b.touchedFields&&c&&Array.isArray(f(r.touchedFields,i))){let p=u(f(r.touchedFields,i),m.argA,m.argB);d&&T(r.touchedFields,i,p)}b.dirtyFields&&(r.dirtyFields=Je(n,l)),g.state.next({name:i,isDirty:S(i,o),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else T(l,i,o)},K=(i,o)=>{T(r.errors,i,o),g.state.next({errors:r.errors})},_=i=>{r.errors=i,g.state.next({errors:r.errors,isValid:!1})},v=(i,o,u,m)=>{let d=f(a,i);if(d){let c=f(l,i,R(u)?f(n,i):u);R(c)||m&&m.defaultChecked||o?T(l,i,o?c:Ke(d._f)):q(i,c),h.mount&&z()}},F=(i,o,u,m,d)=>{let c=!1,p=!1,w={name:i},M=!!(f(a,i)&&f(a,i)._f.disabled);if(!u||m){b.isDirty&&(p=r.isDirty,r.isDirty=w.isDirty=S(),c=p!==w.isDirty);let Z=M||oe(f(n,i),o);p=!!(!M&&f(r.dirtyFields,i)),Z||M?P(r.dirtyFields,i):T(r.dirtyFields,i,!0),w.dirtyFields=r.dirtyFields,c=c||b.dirtyFields&&p!==!Z}if(u){let Z=f(r.touchedFields,i);Z||(T(r.touchedFields,i,u),w.touchedFields=r.touchedFields,c=c||b.touchedFields&&Z!==u)}return c&&d&&g.state.next(w),c?w:{}},O=(i,o,u,m)=>{let d=f(r.errors,i),c=b.isValid&&Q(o)&&r.isValid!==o;if(e.delayError&&u?(x=_e(()=>K(i,u)),x(e.delayError)):(clearTimeout(E),x=null,u?T(r.errors,i,u):P(r.errors,i)),(u?!oe(d,u):d)||!H(m)||c){let p={...m,...c&&Q(o)?{isValid:o}:{},errors:r.errors,name:i};r={...r,...p},g.state.next(p)}V(!1)},N=async i=>t.resolver(l,t.context,dr(i||y.mount,a,t.criteriaMode,t.shouldUseNativeValidation)),X=async i=>{let{errors:o}=await N(i);if(i)for(let u of i){let m=f(o,u);m?T(r.errors,u,m):P(r.errors,u)}else r.errors=o;return o},te=async(i,o,u={valid:!0})=>{for(let m in i){let d=i[m];if(d){let{_f:c,...p}=d;if(c){let w=y.array.has(c.name),M=await Xe(d,l,ue,t.shouldUseNativeValidation&&!o,w);if(M[c.name]&&(u.valid=!1,o))break;!o&&(f(M,c.name)?w?Lt(r.errors,M,c.name):T(r.errors,c.name,M[c.name]):P(r.errors,c.name))}p&&await te(p,o,u)}}return u.valid},D=()=>{for(let i of y.unMount){let o=f(a,i);o&&(o._f.refs?o._f.refs.every(u=>!Ge(u)):!Ge(o._f.ref))&&Oe(i)}y.unMount=new Set},S=(i,o)=>(i&&o&&T(l,i,o),!oe(ot(),n)),C=(i,o,u)=>It(i,y,{...h.mount?l:R(o)?n:ee(i)?{[i]:o}:o},u,o),B=i=>ye(f(h.mount?l:n,i,e.shouldUnregister?f(n,i,[]):[])),q=(i,o,u={})=>{let m=f(a,i),d=o;if(m){let c=m._f;c&&(!c.disabled&&T(l,i,Wt(o,c)),d=Se(c.ref)&&U(o)?"":o,Bt(c.ref)?[...c.ref.options].forEach(p=>p.selected=d.includes(p.value)):c.refs?Ae(c.ref)?c.refs.length>1?c.refs.forEach(p=>(!p.defaultChecked||!p.disabled)&&(p.checked=Array.isArray(d)?!!d.find(w=>w===p.value):d===p.value)):c.refs[0]&&(c.refs[0].checked=!!d):c.refs.forEach(p=>p.checked=p.value===d):tt(c.ref)?c.ref.value="":(c.ref.value=d,c.ref.type||g.values.next({name:i,values:{...l}})))}(u.shouldDirty||u.shouldTouch)&&F(i,d,u.shouldTouch,u.shouldDirty,!0),u.shouldValidate&&Ce(i)},Y=(i,o,u)=>{for(let m in o){let d=o[m],c=`${i}.${m}`,p=f(a,c);(y.array.has(i)||!xe(d)||p&&!p._f)&&!fe(d)?Y(c,d,u):q(c,d,u)}},ne=(i,o,u={})=>{let m=f(a,i),d=y.array.has(i),c=k(o);T(l,i,c),d?(g.array.next({name:i,values:{...l}}),(b.isDirty||b.dirtyFields)&&u.shouldDirty&&g.state.next({name:i,dirtyFields:Je(n,l),isDirty:S(i,c)})):m&&!m._f&&!U(c)?Y(i,c,u):q(i,c,u),ze(i,y)&&g.state.next({...r}),g.values.next({name:i,values:{...l}}),!h.mount&&s()},ge=async i=>{let o=i.target,u=o.name,m=!0,d=f(a,u),c=()=>o.type?Ke(d._f):Et(i),p=w=>{m=Number.isNaN(w)||w===f(l,u,w)};if(d){let w,M,Z=c(),le=i.type===Ve.BLUR||i.type===Ve.FOCUS_OUT,er=!yr(d._f)&&!t.resolver&&!f(r.errors,u)&&!d._f.deps||mr(le,f(r.touchedFields,u),r.isSubmitted,L,$),Ie=ze(u,y,le);T(l,u,Z),le?(d._f.onBlur&&d._f.onBlur(i),x&&x(0)):d._f.onChange&&d._f.onChange(i);let Me=F(u,Z,le,!1),tr=!H(Me)||Ie;if(!le&&g.values.next({name:u,type:i.type,values:{...l}}),er)return b.isValid&&z(),tr&&g.state.next({name:u,...Ie?{}:Me});if(!le&&Ie&&g.state.next({...r}),V(!0),t.resolver){let{errors:_t}=await N([u]);if(p(Z),m){let rr=Tt(r.errors,a,u),gt=Tt(_t,a,rr.name||u);w=gt.error,u=gt.name,M=H(_t)}}else w=(await Xe(d,l,ue,t.shouldUseNativeValidation))[u],p(Z),m&&(w?M=!1:b.isValid&&(M=await te(a,!0)));m&&(d._f.deps&&Ce(d._f.deps),O(u,M,w,Me))}},Fe=(i,o)=>{if(f(r.errors,o)&&i.focus)return i.focus(),1},Ce=async(i,o={})=>{let u,m,d=W(i);if(V(!0),t.resolver){let c=await X(R(i)?i:d);u=H(c),m=i?!d.some(p=>f(c,p)):u}else i?(m=(await Promise.all(d.map(async c=>{let p=f(a,c);return await te(p&&p._f?{[c]:p}:p)}))).every(Boolean),!(!m&&!r.isValid)&&z()):m=u=await te(a);return g.state.next({...!ee(i)||b.isValid&&u!==r.isValid?{}:{name:i},...t.resolver||!i?{isValid:u}:{},errors:r.errors,isValidating:!1}),o.shouldFocus&&!m&&de(a,Fe,i?d:y.mount),m},ot=i=>{let o={...n,...h.mount?l:{}};return R(i)?o:ee(i)?f(o,i):i.map(u=>f(o,u))},ut=(i,o)=>({invalid:!!f((o||r).errors,i),isDirty:!!f((o||r).dirtyFields,i),isTouched:!!f((o||r).touchedFields,i),error:f((o||r).errors,i)}),zt=i=>{i&&W(i).forEach(o=>P(r.errors,o)),g.state.next({errors:i?r.errors:{}})},lt=(i,o,u)=>{let m=(f(a,i,{_f:{}})._f||{}).ref;T(r.errors,i,{...o,ref:m}),g.state.next({name:i,errors:r.errors,isValid:!1}),u&&u.shouldFocus&&m&&m.focus&&m.focus()},Xt=(i,o)=>ae(i)?g.values.subscribe({next:u=>i(C(void 0,o),u)}):C(i,o,!0),Oe=(i,o={})=>{for(let u of i?W(i):y.mount)y.mount.delete(u),y.array.delete(u),o.keepValue||(P(a,u),P(l,u)),!o.keepError&&P(r.errors,u),!o.keepDirty&&P(r.dirtyFields,u),!o.keepTouched&&P(r.touchedFields,u),!t.shouldUnregister&&!o.keepDefaultValue&&P(n,u);g.values.next({values:{...l}}),g.state.next({...r,...o.keepDirty?{isDirty:S()}:{}}),!o.keepIsValid&&z()},ct=({disabled:i,name:o,field:u,fields:m,value:d})=>{if(Q(i)){let c=i?void 0:R(d)?Ke(u?u._f:f(m,o)._f):d;T(l,o,c),F(o,c,!1,!1,!0)}},ke=(i,o={})=>{let u=f(a,i),m=Q(o.disabled);return T(a,i,{...u||{},_f:{...u&&u._f?u._f:{ref:{name:i}},name:i,mount:!0,...o}}),y.mount.add(i),u?ct({field:u,disabled:o.disabled,name:i,value:o.value}):v(i,!0,o.value),{...m?{disabled:o.disabled}:{},...t.progressive?{required:!!o.required,min:pe(o.min),max:pe(o.max),minLength:pe(o.minLength),maxLength:pe(o.maxLength),pattern:pe(o.pattern)}:{},name:i,onChange:ge,onBlur:ge,ref:d=>{if(d){ke(i,o),u=f(a,i);let c=R(d.value)&&d.querySelectorAll&&d.querySelectorAll("input,select,textarea")[0]||d,p=fr(c),w=u._f.refs||[];if(p?w.find(M=>M===c):c===u._f.ref)return;T(a,i,{_f:{...u._f,...p?{refs:[...w.filter(Ge),c,...Array.isArray(f(n,i))?[{}]:[]],ref:{type:c.type,name:i}}:{ref:c}}}),v(i,!1,void 0,c)}else u=f(a,i,{}),u._f&&(u._f.mount=!1),(t.shouldUnregister||o.shouldUnregister)&&!(Dt(y.array,i)&&h.action)&&y.unMount.add(i)}}},ft=()=>t.shouldFocusError&&de(a,Fe,y.mount),Yt=i=>{Q(i)&&(g.state.next({disabled:i}),de(a,(o,u)=>{let m=i,d=f(a,u);d&&Q(d._f.disabled)&&(m||(m=d._f.disabled)),o.disabled=m},0,!1))},dt=(i,o)=>async u=>{u&&(u.preventDefault&&u.preventDefault(),u.persist&&u.persist());let m=k(l);if(g.state.next({isSubmitting:!0}),t.resolver){let{errors:d,values:c}=await N();r.errors=d,m=c}else await te(a);P(r.errors,"root"),H(r.errors)?(g.state.next({errors:{}}),await i(m,u)):(o&&await o({...r.errors},u),ft(),setTimeout(ft)),g.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:H(r.errors),submitCount:r.submitCount+1,errors:r.errors})},Zt=(i,o={})=>{f(a,i)&&(R(o.defaultValue)?ne(i,k(f(n,i))):(ne(i,o.defaultValue),T(n,i,k(o.defaultValue))),o.keepTouched||P(r.touchedFields,i),o.keepDirty||(P(r.dirtyFields,i),r.isDirty=o.defaultValue?S(i,k(f(n,i))):S()),o.keepError||(P(r.errors,i),b.isValid&&z()),g.state.next({...r}))},yt=(i,o={})=>{let u=i?k(i):n,m=k(u),d=i&&!H(i)?m:n;if(o.keepDefaultValues||(n=u),!o.keepValues){if(o.keepDirtyValues)for(let c of y.mount)f(r.dirtyFields,c)?T(d,c,f(l,c)):ne(c,f(d,c));else{if(Ye&&R(i))for(let c of y.mount){let p=f(a,c);if(p&&p._f){let w=Array.isArray(p._f.refs)?p._f.refs[0]:p._f.ref;if(Se(w)){let M=w.closest("form");if(M){M.reset();break}}}}a={}}l=e.shouldUnregister?o.keepDefaultValues?k(n):{}:k(d),g.array.next({values:{...d}}),g.values.next({values:{...d}})}y={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!h.mount&&s(),h.mount=!b.isValid||!!o.keepIsValid,h.watch=!!e.shouldUnregister,g.state.next({submitCount:o.keepSubmitCount?r.submitCount:0,isDirty:o.keepDirty?r.isDirty:!!(o.keepDefaultValues&&!oe(i,n)),isSubmitted:o.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:o.keepDirtyValues?r.dirtyFields:o.keepDefaultValues&&i?Je(n,i):{},touchedFields:o.keepTouched?r.touchedFields:{},errors:o.keepErrors?r.errors:{},isSubmitSuccessful:o.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},mt=(i,o)=>yt(ae(i)?i(l):i,o);return{control:{register:ke,unregister:Oe,getFieldState:ut,handleSubmit:dt,setError:lt,_executeSchema:N,_getWatch:C,_getDirty:S,_updateValid:z,_removeUnmounted:D,_updateFieldArray:J,_updateDisabledField:ct,_getFieldArray:B,_reset:yt,_resetDefaultValues:()=>ae(t.defaultValues)&&t.defaultValues().then(i=>{mt(i,t.resetOptions),g.state.next({isLoading:!1})}),_updateFormState:i=>{r={...r,...i}},_disableForm:Yt,_subjects:g,_proxyFormState:b,_setErrors:_,get _fields(){return a},get _formValues(){return l},get _state(){return h},set _state(i){h=i},get _defaultValues(){return n},get _names(){return y},set _names(i){y=i},get _formState(){return r},set _formState(i){r=i},get _options(){return t},set _options(i){t={...t,...i}}},trigger:Ce,register:ke,handleSubmit:dt,watch:Xt,setValue:ne,getValues:ot,reset:mt,resetField:Zt,clearErrors:zt,unregister:Oe,setError:lt,setFocus:(i,o={})=>{let u=f(a,i),m=u&&u._f;if(m){let d=m.refs?m.refs[0]:m.ref;d.focus&&(d.focus(),o.shouldSelect&&d.select())}},getFieldState:ut}}function Ir(e={}){let s=A.default.useRef(),t=A.default.useRef(),[r,a]=A.default.useState({isDirty:!1,isValidating:!1,isLoading:ae(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:ae(e.defaultValues)?void 0:e.defaultValues});s.current||(s.current={...hr(e,()=>a(l=>({...l}))),formState:r});let n=s.current.control;return n._options=e,De({subject:n._subjects.state,next:l=>{Ot(l,n._proxyFormState,n._updateFormState,!0)&&a({...n._formState})}}),A.default.useEffect(()=>n._disableForm(e.disabled),[n,e.disabled]),A.default.useEffect(()=>{if(n._proxyFormState.isDirty){let l=n._getDirty();l!==r.isDirty&&n._subjects.state.next({isDirty:l})}},[n,r.isDirty]),A.default.useEffect(()=>{e.values&&!oe(e.values,t.current)?(n._reset(e.values,n._options.resetOptions),t.current=e.values,a(l=>({...l}))):n._resetDefaultValues()},[e.values,n]),A.default.useEffect(()=>{e.errors&&n._setErrors(e.errors)},[e.errors,n]),A.default.useEffect(()=>{n._state.mount||(n._updateValid(),n._state.mount=!0),n._state.watch&&(n._state.watch=!1,n._subjects.state.next({...n._formState})),n._removeUnmounted()}),s.current.formState=Ct(r,n),s.current}var $t=function(e,s,t){if(e&&"reportValidity"in e){var r=f(t,s);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},st=function(e,s){var t=function(a){var n=s.fields[a];n&&n.ref&&"reportValidity"in n.ref?$t(n.ref,a,e):n.refs&&n.refs.forEach(function(l){return $t(l,a,e)})};for(var r in s.fields)t(r)},qt=function(e,s){s.shouldUseNativeValidation&&st(e,s);var t={};for(var r in e){var a=f(s.fields,r),n=Object.assign(e[r]||{},{ref:a&&a.ref});if(vr(s.names||Object.keys(e),r)){var l=Object.assign({},f(t,r));T(l,"root",n),T(t,r,l)}else T(t,r,n)}return t},vr=function(e,s){return e.some(function(t){return t.startsWith(s+".")})};var pr=function(e,s){for(var t={};e.length;){var r=e[0],a=r.code,n=r.message,l=r.path.join(".");if(!t[l])if("unionErrors"in r){var h=r.unionErrors[0].errors[0];t[l]={message:h.message,type:h.code}}else t[l]={message:n,type:a};if("unionErrors"in r&&r.unionErrors.forEach(function(E){return E.errors.forEach(function(b){return e.push(b)})}),s){var y=t[l].types,x=y&&y[r.code];t[l]=et(l,s,t,a,x?[].concat(x,r.message):r.message)}e.shift()}return t},Br=function(e,s,t){return t===void 0&&(t={}),function(r,a,n){try{return Promise.resolve(function(l,h){try{var y=Promise.resolve(e[t.mode==="sync"?"parse":"parseAsync"](r,s)).then(function(x){return n.shouldUseNativeValidation&&st({},n),{errors:{},values:t.raw?r:x}})}catch(x){return h(x)}return y&&y.then?y.then(void 0,h):y}(0,function(l){if(function(h){return h.errors!=null}(l))return{values:{},errors:qt(pr(l.errors,!n.shouldUseNativeValidation&&n.criteriaMode==="all"),n)};throw l}))}catch(l){return Promise.reject(l)}}};var j=he(Pe(),1);var se=he(ht(),1),Qr=Rt,Gt=j.createContext({}),zr=({...e})=>(0,se.jsx)(Gt.Provider,{value:{name:e.name},children:(0,se.jsx)(Pt,{...e})}),we=()=>{let e=j.useContext(Gt),s=j.useContext(Jt),{getFieldState:t,formState:r}=me(),a=t(e.name,r);if(!e)throw new Error("useFormField should be used within <FormField>");let{id:n}=s;return{id:n,name:e.name,formItemId:`${n}-form-item`,formDescriptionId:`${n}-form-item-description`,formMessageId:`${n}-form-item-message`,...a}},Jt=j.createContext({}),Ar=j.forwardRef(({className:e,...s},t)=>{let r=j.useId();return(0,se.jsx)(Jt.Provider,{value:{id:r},children:(0,se.jsx)("div",{ref:t,className:ve("space-y-2",e),...s})})});Ar.displayName="FormItem";var Fr=j.forwardRef(({className:e,...s},t)=>{let{error:r,formItemId:a}=we();return(0,se.jsx)(pt,{ref:t,className:ve(r&&"text-destructive",e),htmlFor:a,...s})});Fr.displayName="FormLabel";var br=j.forwardRef(({...e},s)=>{let{error:t,formItemId:r,formDescriptionId:a,formMessageId:n}=we();return(0,se.jsx)(vt,{ref:s,id:r,"aria-describedby":t?`${a} ${n}`:`${a}`,"aria-invalid":!!t,...e})});br.displayName="FormControl";var Vr=j.forwardRef(({className:e,...s},t)=>{let{formDescriptionId:r}=we();return(0,se.jsx)("p",{ref:t,id:r,className:ve("text-sm text-muted-foreground",e),...s})});Vr.displayName="FormDescription";var Sr=j.forwardRef(({className:e,children:s,...t},r)=>{let{error:a,formMessageId:n}=we(),l=a?String(a?.message):s;return l?(0,se.jsx)("p",{ref:r,id:n,className:ve("text-sm font-medium text-destructive",e),...t,children:l}):null});Sr.displayName="FormMessage";var Qt=he(Pe(),1),Tr=1,xr=1e6;var it=0;function Er(){return it=(it+1)%Number.MAX_SAFE_INTEGER,it.toString()}var at=new Map,Kt=e=>{if(at.has(e))return;let s=setTimeout(()=>{at.delete(e),Re({type:"REMOVE_TOAST",toastId:e})},xr);at.set(e,s)},Dr=(e,s)=>{switch(s.type){case"ADD_TOAST":return{...e,toasts:[s.toast,...e.toasts].slice(0,Tr)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(t=>t.id===s.toast.id?{...t,...s.toast}:t)};case"DISMISS_TOAST":{let{toastId:t}=s;return t?Kt(t):e.toasts.forEach(r=>{Kt(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===t||t===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return s.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(t=>t.id!==s.toastId)}}},wr=[],nt={toasts:[]};function Re(e){nt=Dr(nt,e),wr.forEach(s=>{s(nt)})}function Yr({...e}){let s=Er(),t=a=>Re({type:"UPDATE_TOAST",toast:{...a,id:s}}),r=()=>Re({type:"DISMISS_TOAST",toastId:s});return Re({type:"ADD_TOAST",toast:{...e,id:s,open:!0,onOpenChange:a=>{a||r()}}}),{id:s,dismiss:r,update:t}}export{kr as a,Ir as b,Br as c,Qr as d,zr as e,Ar as f,Fr as g,br as h,Vr as i,Sr as j,Yr as k};
